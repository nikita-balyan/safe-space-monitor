# Safe Space Monitor

## Overview

Safe Space Monitor is a real-time sensor monitoring application designed to track environmental conditions like noise, light, and motion levels. The application features dual interfaces: a child-friendly view with emojis and simple language, and a comprehensive caregiver view with detailed charts and technical data. The system simulates sensor readings and provides live updates through a web dashboard, making it suitable for monitoring safe spaces for children or sensitive environments.

## User Preferences

Preferred communication style: Simple, everyday language.

## System Architecture

### Frontend Architecture
- **Framework**: Flask with Jinja2 templating for server-side rendering
- **UI Framework**: Bootstrap 5.3.2 with custom CSS for responsive design
- **Visualization**: Chart.js for real-time data visualization in caregiver view
- **Icons**: Font Awesome 6.4.0 for consistent iconography
- **Real-time Updates**: JavaScript polling (every 2 seconds) for live data
- **Dual Interface Design**: Child View: Emojis (😊, 😐, 😟) + simple status messages
Caregiver View: Numerical values, progress bars, historical charts

### Backend Architecture
- **Framework**: Flask web framework with Python
- **Architecture Pattern**: Modular structure with separated concerns:
  - `app.py`: Main application setup and background thread initialization
  - `routes.py`: HTTP route handlers and API endpoints
  - `sensor_simulator.py`: Realistic sensor data generation
  - `main.py`: Application entry point
- **Session Management**: Flask sessions with configurable secret key
- **Proxy Support**: ProxyFix middleware for deployment behind reverse proxies
- **Threading**: Background thread for continuous sensor simulation

### Data Storage
- **In-Memory Storage**: Python dictionaries for real-time sensor data storage
- **Data Structure**: Time-series data with arrays for each sensor type (noise, light, motion)
- **Data Retention**: Historical data maintained in memory for trend analysis
- **No Persistent Database**: Simplified architecture without external database dependencies

### API Design
- **RESTful Endpoints**:
 -  GET / - Main dashboard (child or caregiver view based on parameter)
 - GET /api/current - Current sensor readings (JSON)
 - GET /api/history - Historical data for charts (JSON)
 - GET /api/status - System health status (JSON)
 - GET /api/thresholds - Alert threshold configuration (JSON)
- **Response Format**: JSON with standardized error handling
- **Real-time Data**: Polling-based updates rather than WebSocket connections

**Alert System**
 - Multi-level Thresholds: Warning and danger levels for each sensor
 - Visual Indicators: Color-coded cards (green/yellow/red) + status messages
 - Real-time Detection: Automatic alert generation based on sensor values
 - User-Friendly Messages: Simple language for children, detailed for caregivers

**Key Features Implemented**

✅ **Child-Friendly Interface**
Emoji-based status indicators (😊, 😐, 😟)
 - **Simple language**: "All okay", "Might be uncomfortable", "Needs attention!"
 - Color-coded visual feedback
 - Minimal technical information

✅ **Caregiver Professional Interface**
 - Numerical sensor readings with units
 - Progress bars showing threshold levels
 - Historical trend charts (Chart.js)
 - Alert history and system statistics
 - Export functionality ready for implementation

✅ **Real-time Sensor Simulation**
- Noise: 30-120 dB (realistic environmental range)
- Light: 0-10,000 lux (with time-of-day patterns)
- Motion: 0-100% activity level
- Smart Patterns: Realistic daily variations
- Continuous Updates: New readings every 2 seconds

✅ **Alert & Notification System**
 - **Noise Alerts**: >70dB (warning), >85dB (danger)
 - **Light Alerts**: >800lux (warning), >1000lux (danger)
 - **Motion Alerts**: >70% (warning), >80% (danger)
 - **Visual Feedback**: Color-changing cards and status messages

✅ **Responsive Design**
 - Mobile-friendly Bootstrap layout
 - Adaptive card grid system
 - Touch-friendly interfaces
 - Consistent styling across devices

## External Dependencies

### Frontend Libraries
- **Bootstrap 5.3.2**: CSS framework for responsive design and components
- **Chart.js**: JavaScript charting library for data visualization
- **Font Awesome 6.4.0**: Icon library for UI elements

### Python Dependencies
- **Flask**: Core web framework for HTTP handling and templating
- **Werkzeug**: WSGI utilities including ProxyFix middleware

### Technical Highlights
**Dual-View System**: Single codebase serving different user experiences
**Realistic Data Simulation**: Environment-aware sensor data generation
**Thread-Safe Architecture**: Background data generation without blocking UI
**RESTful API**: Clean separation between frontend and data services
**Professional UI**: Modern glass-morphism design with smooth animations

### Runtime Requirements
- **Python Threading**: Built-in threading module for background sensor simulation
- **Standard Library**: Random, time, datetime, and logging modules for core functionality

### Development Tools
- **Flask Debug Mode**: Built-in development server with auto-reload
- **Python Logging**: Configurable logging system for debugging and monitoring

The application is designed to be self-contained with minimal external dependencies, making it suitable for educational purposes or as a foundation for more complex IoT monitoring systems.